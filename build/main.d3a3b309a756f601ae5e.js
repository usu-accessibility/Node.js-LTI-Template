"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkalt_text_backend"] = self["webpackChunkalt_text_backend"] || []).push([["main"],{

/***/ 85880:
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ 73935);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ 89250);\n/* harmony import */ var _pages_Navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/Navigation */ 92865);\n/* harmony import */ var _pages_HomePage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/HomePage */ 31863);\n/* harmony import */ var _pages_AdvancedImages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/AdvancedImages */ 65930);\n/* harmony import */ var _pages_LoadImagesPage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/LoadImagesPage */ 22039);\n/* harmony import */ var _pages_ReviewPublishPage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/ReviewPublishPage */ 94513);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! axios */ 5274);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\nfunction App() {\n  var isDev = \"true\";\n  console.log(\"env\");\n  console.log(isDev);\n  var basePath = isDev ? 'https://d5b6-144-39-247-54.ngrok-free.app' : 'https://accessibility.dheeru.link';\n  var i = window.location.pathname.lastIndexOf('/');\n  var navBasePath = window.location.pathname.slice(undefined, i);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    userRole = _useState2[0],\n    setUserRole = _useState2[1];\n  function getUserDetails() {\n    (0,axios__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n      method: 'get',\n      url: \"\".concat(basePath, \"/get_user_details\")\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      var role = loadJson.role;\n      var role = role.split(',');\n      setUserRole(role[0]);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getUserDetails();\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.MemoryRouter, {\n    initialEntries: [\"/\"],\n    initialIndex: 0\n  }, userRole !== \"\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_Navigation__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    basePath: navBasePath,\n    path: basePath,\n    userRole: userRole\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Routes, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Route, {\n    path: \"/\",\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_HomePage__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      basePath: basePath\n    })\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Route, {\n    path: \"/load_images\",\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_LoadImagesPage__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      basePath: basePath\n    })\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Route, {\n    path: \"/review_publish\",\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_ReviewPublishPage__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      basePath: basePath\n    })\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Route, {\n    path: \"/advanced_images\",\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_AdvancedImages__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      basePath: basePath\n    })\n  }))));\n}\nreact_dom__WEBPACK_IMPORTED_MODULE_1__.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(App, null), document.getElementById(\"react-container\"));\n\n//# sourceURL=webpack://alt_text_backend/./src/main.js?");

/***/ }),

/***/ 65930:
/*!*************************************!*\
  !*** ./src/pages/AdvancedImages.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui */ 73762);\n/* harmony import */ var _ImageEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ImageEditor */ 93821);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nfunction HomePage(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentTab = _useState2[0],\n    setCurrentTab = _useState2[1];\n  function handleTabChange(event, _ref) {\n    var index = _ref.index,\n      id = _ref.id;\n    setCurrentTab(index);\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.Tabs, {\n    onRequestTabChange: handleTabChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.Tabs.Panel, {\n    id: \"lotsOfTextTab\",\n    renderTitle: \"Lots of Text\",\n    isSelected: currentTab == 0\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ImageEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    basePath: props.basePath,\n    advancedType: \"lots_of_text\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.Tabs.Panel, {\n    id: \"contentExpertiseTab\",\n    renderTitle: \"Needs Content Expertise\",\n    isSelected: currentTab == 1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ImageEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    basePath: props.basePath,\n    advancedType: \"needs_content_expertise\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.Tabs.Panel, {\n    id: \"foreignLanguageTab\",\n    renderTitle: \"Foreign Language\",\n    isSelected: currentTab == 2\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ImageEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    basePath: props.basePath,\n    advancedType: \"foreign_language\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.Tabs.Panel, {\n    id: \"otherTab\",\n    renderTitle: \"Other\",\n    isSelected: currentTab == 3\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ImageEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    basePath: props.basePath,\n    advancedType: \"other\"\n  }))));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/AdvancedImages.js?");

/***/ }),

/***/ 16649:
/*!****************************!*\
  !*** ./src/pages/Alert.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BasicAlerts)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_Alert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/Alert */ 84060);\n/* harmony import */ var _mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material/Stack */ 26447);\n\n\n\nfunction BasicAlerts(props) {\n  function closeAlert() {\n    setTimeout(function () {\n      props.setAlertOpen(\"\");\n      props.setAlertId(\"\");\n    }, 4000);\n  }\n  closeAlert();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"alert-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    sx: {\n      width: '100%',\n      marginLeft: '1rem',\n      marginRight: '1rem',\n      marginBottom: props.marginBottom ? props.marginBottom : '0rem'\n    },\n    spacing: 2\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Alert__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    onClose: function onClose() {\n      props.setAlertOpen(\"\");\n      props.setAlertId(\"\");\n    },\n    variant: \"outlined\",\n    severity: props.severity || props.severity !== \"\" ? props.severity : \"success\"\n  }, props.altText)));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/Alert.js?");

/***/ }),

/***/ 62034:
/*!*****************************!*\
  !*** ./src/pages/Avatar.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AvatarChips)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_Avatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/Avatar */ 27995);\n/* harmony import */ var _mui_material_Chip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/Chip */ 63102);\n/* harmony import */ var _mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material/Stack */ 26447);\n\n\n\n\nfunction AvatarChips(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"avatar-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    direction: \"row\",\n    spacing: 1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Chip__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    avatar: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Avatar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      alt: \"Unknown User\",\n      src: props.imageUrl\n    }),\n    label: props.name,\n    variant: \"outlined\"\n  }), props.onModalClick && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-outline-primary feedback-class\",\n    onClick: props.onModalClick\n  }, \"feedback\")));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/Avatar.js?");

/***/ }),

/***/ 89072:
/*!**********************************!*\
  !*** ./src/pages/ButtonGroup.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectLabels)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/InputLabel */ 60076);\n/* harmony import */ var _mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material/MenuItem */ 63931);\n/* harmony import */ var _mui_material_FormHelperText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/FormHelperText */ 74509);\n/* harmony import */ var _mui_material_FormControl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material/FormControl */ 53640);\n/* harmony import */ var _mui_material_Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/Select */ 16012);\n\n\n\n\n\n\nfunction SelectLabels(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    sx: {\n      m: 1,\n      minWidth: 200\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    id: \"demo-simple-select-helper-label\"\n  }, \"Course\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Select__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    labelId: \"demo-simple-select-helper-label\",\n    id: \"demo-simple-select-helper\",\n    value: props.selectedCourse,\n    label: \"Course\",\n    onChange: props.handleChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    value: \"All Courses\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"em\", null, \"All Courses\")), props.courses.map(function (element) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      value: element.id\n    }, element.course_name);\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_FormHelperText__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, \"Select the specific course to get the images of those course\")));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/ButtonGroup.js?");

/***/ }),

/***/ 25985:
/*!**********************************!*\
  !*** ./src/pages/ContextPage.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextPage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui */ 31467);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui */ 80449);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui */ 7835);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui */ 26993);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui */ 55260);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui */ 92439);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui */ 110);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui */ 12817);\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-icons */ 6486);\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-icons */ 52276);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dompurify */ 27856);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ 5274);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\nfunction ContextPage(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFirstLoad = _useState2[0],\n    setIsFirstLoad = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pageBody = _useState4[0],\n    setPageBody = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentPage = _useState6[0],\n    setCurrentPage = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    pageUrls = _useState8[0],\n    setPageUrls = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    mounted = _useState10[0],\n    setMounted = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    navVisibility = _useState12[0],\n    setNavVisibility = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isLoading = _useState14[0],\n    setIsLoading = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined),\n    _useState16 = _slicedToArray(_useState15, 2),\n    error = _useState16[0],\n    setError = _useState16[1];\n  var bodyDiv = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n\n  // Fix error where state was being set on an unmounted component when the modal was closed before everything loaded.\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    setMounted(true);\n    return function () {\n      return setMounted(false);\n    };\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (props.modalOpen && mounted) {\n      (0,axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        method: 'get',\n        url: \"\".concat(props.basePath, \"/get_image_usage?image_id=\").concat(props.imageId)\n      }).then(function (response) {\n        var loadJson = {};\n        if (typeof response.data === \"string\") {\n          var jsonRegex = /{[^}]+}/;\n          var jsonMatch = response.data.match(jsonRegex);\n          if (jsonMatch) {\n            var jsonString = jsonMatch[0];\n            loadJson = JSON.parse(jsonString);\n          }\n        } else {\n          loadJson = response.data;\n        }\n        if (mounted) {\n          var pages = loadJson.pages.split(', ');\n          setPageUrls(pages);\n        }\n        setIsLoading(false);\n      })[\"catch\"](function (error) {\n        setIsLoading(false);\n        console.log(error);\n        setError(\"We failed to retrieve the image context information. Please refresh the page and try again.\");\n      });\n    }\n  }, [mounted]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (pageUrls.length != 0 && pageUrls[0] != '') {\n      (0,axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        method: 'get',\n        url: \"\".concat(props.basePath, \"/get_body?page_url=\").concat(encodeURIComponent(pageUrls[currentPage]))\n      }).then(function (response) {\n        var loadJson = {};\n        if (typeof response.data === \"string\") {\n          var jsonRegex = /{[^}]+}/;\n          var jsonMatch = response.data.match(jsonRegex);\n          if (jsonMatch) {\n            var jsonString = jsonMatch[0];\n            loadJson = JSON.parse(jsonString);\n          }\n        } else {\n          loadJson = response.data;\n        }\n        setPageBody(purifyHtml(loadJson.body));\n        setIsFirstLoad(false);\n      })[\"catch\"](function (error) {\n        setIsLoading(false);\n        setError(\"We failed to retrieve the page information. Please refresh the page and try again.\");\n        setIsFirstLoad(false);\n      });\n    } else if (pageUrls[0] == '') {\n      setIsLoading(false);\n      setError(\"This image is no longer in use. \");\n      setIsFirstLoad(false);\n    }\n  }, [currentPage, pageUrls]);\n  function purifyHtml(html) {\n    setIsLoading(false);\n    setNavVisibility(true);\n    return dompurify__WEBPACK_IMPORTED_MODULE_1___default().sanitize(html, {\n      USE_PROFILES: {\n        html: true\n      }\n    });\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, error) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"div2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"View Image in Context\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"page-content\",\n    ref: bodyDiv,\n    dangerouslySetInnerHTML: {\n      __html: pageBody\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.Transition, {\n    \"in\": navVisibility,\n    type: \"slide-down\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"context-nav\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    id: \"context-previous-btn\",\n    color: \"secondary\",\n    onClick: function onClick() {\n      setCurrentPage(currentPage - 1);\n      setIsLoading(true);\n    },\n    interaction: currentPage > 0 ? \"enabled\" : \"disabled\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_5__.SVGIcon, {\n    size: 'x-small',\n    inline: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_6__.IconMiniArrowStartSolid, null)), \" Previous\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    id: \"context-next-btn\",\n    color: \"secondary\",\n    onClick: function onClick() {\n      setCurrentPage(currentPage + 1);\n      setIsLoading(true);\n    },\n    interaction: currentPage < pageUrls.length - 1 ? \"enabled\" : \"disabled\"\n  }, \"Next \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_5__.SVGIcon, {\n    size: 'x-small',\n    inline: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__.IconMiniArrowEndSolid, null)))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_8__.Overlay, {\n    id: \"loading-overlay\",\n    open: props.modalOpen && isLoading,\n    label: \"Loading\",\n    shouldContainFocus: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_9__.Mask, {\n    fullscreen: true\n  }, props.modalOpen && isLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-regular fa-circle-xmark fa-2x\",\n    onClick: function onClick() {\n      return props.onViewContextChange(false);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, {\n    direction: \"column\",\n    justifyItems: \"center\",\n    alignItems: \"center\"\n  }, isFirstLoad && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Flex.Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_11__.Text, {\n    as: \"p\"\n  }, \"This may take some time depending on the size of the course\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Flex.Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_12__.Spinner, {\n    renderTitle: \"Loading\",\n    size: \"large\",\n    margin: \"auto\"\n  }))))));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/ContextPage.js?");

/***/ }),

/***/ 91919:
/*!***********************************!*\
  !*** ./src/pages/CoursesTable.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CoursesTable)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/Tooltip */ 21023);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/Tooltip */ 48999);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mui/material/styles */ 90948);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"className\"];\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\nvar BootstrapTooltip = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(function (_ref) {\n  var className = _ref.className,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _extends({}, props, {\n    arrow: true,\n    classes: {\n      popper: className\n    }\n  }));\n})(function (_ref2) {\n  var theme = _ref2.theme;\n  return _defineProperty(_defineProperty({}, \"& .\".concat(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_3__[\"default\"].arrow), {\n    color: theme.palette.common.black\n  }), \"& .\".concat(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_3__[\"default\"].tooltip), {\n    backgroundColor: theme.palette.common.black,\n    fontSize: 15\n  });\n});\nfunction CoursesTable(_ref4) {\n  var basePath = _ref4.basePath,\n    courses = _ref4.courses,\n    loadTable = _ref4.loadTable,\n    setCourses = _ref4.setCourses,\n    handleReview = _ref4.handleReview,\n    setIsLoading = _ref4.setIsLoading,\n    setPushMessage = _ref4.setPushMessage,\n    handlePublish = _ref4.handlePublish,\n    courseFilter = _ref4.courseFilter,\n    setPageNumber = _ref4.setPageNumber,\n    pageNumber = _ref4.pageNumber;\n  console.log(courses);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),\n    _useState2 = _slicedToArray(_useState, 2),\n    sortBy = _useState2[0],\n    setSortBy = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    ascending = _useState4[0],\n    setAscending = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    noOfImages = _useState6[0],\n    setNoOfImages = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    completedImages = _useState8[0],\n    setCompletedImages = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState10 = _slicedToArray(_useState9, 2),\n    publishedImages = _useState10[0],\n    setPublishedImages = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    imagesToPublish = _useState12[0],\n    setImagesToPublish = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState14 = _slicedToArray(_useState13, 2),\n    advancedImagesToPublish = _useState14[0],\n    setAdvancedImagesToPublish = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState16 = _slicedToArray(_useState15, 2),\n    availableToPublish = _useState16[0],\n    setAvailableToPublish = _useState16[1];\n  var direction = ascending ? 'ascending' : 'descending';\n  var observer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var lastTableElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (row) {\n    console.log(row);\n    console.log(observer.current);\n    if (observer.current) {\n      observer.current.disconnect();\n    }\n    observer.current = new IntersectionObserver(function (entries) {\n      if (entries[0].isIntersecting) {\n        console.log(\"visible\");\n        setPageNumber(pageNumber + 1);\n        // loadTable();\n      }\n    });\n\n    if (row) {\n      console.log(\"row\");\n      observer.current.observe(row);\n    }\n    console.log(\"hello\");\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    loadTable();\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    console.log(\"helllo\");\n    console.log(courses);\n    var val1 = 0;\n    var val2 = 0;\n    var val3 = 0;\n    var val4 = 0;\n    var val5 = 0;\n    var val6 = 0;\n    (courses || []).map(function (course) {\n      if (course.total_images !== course.published_images) {\n        val1 += parseInt(course.total_images);\n        val2 += parseInt(course.completed_images);\n        val3 += parseInt(course.published_images);\n        val4 += parseInt(course.completed_images) - parseInt(course.published_images);\n        val5 += parseInt(course.advanced_images);\n        val6 += parseInt(course.available_images);\n        console.log(\"inside\");\n      }\n      setNoOfImages(val1);\n      setCompletedImages(val2);\n      setPublishedImages(val3);\n      setImagesToPublish(val4);\n      setAdvancedImagesToPublish(val5);\n      setAvailableToPublish(val6);\n    });\n  }, [courses]);\n  function onSort(event, column) {\n    var id = column.id;\n    var localAscending;\n    if (id === sortBy) {\n      setAscending(!ascending);\n      localAscending = !ascending;\n    } else {\n      setAscending(true);\n      localAscending = true;\n    }\n    setSortBy(id);\n    if (shouldReverse(id)) {\n      var tempCourses = _toConsumableArray(courses);\n      tempCourses.sort(function (a, b) {\n        var num_a = a[id].padStart(8, '0');\n        ;\n        var num_b = b[id].padStart(8, '0');\n        ;\n        return num_a.localeCompare(num_b);\n      });\n      if (!localAscending) {\n        tempCourses.reverse();\n      }\n      setCourses(tempCourses);\n    }\n  }\n  function shouldReverse(id) {\n    if (courses.length === 0 || id === undefined) {\n      return false;\n    }\n    var val = courses[0][id];\n    for (var i = 1; i < courses.length; i++) {\n      if (courses[i][id] !== val) return true;\n    }\n    return false;\n  }\n\n  // function handlePublish(courseId) {\n  //   setIsLoading(true);\n\n  //   axios({\n  //     method:'post',\n  //     url:`${basePath}/task.php?task=push_image`,\n  //     data: {\n  //       course_id: courseId\n  //     }\n  //   })\n  //   .then((response) => {\n\n  //     var loadJson = {};\n\n  //     if(typeof response.data === \"string\"){\n  //       const jsonRegex = /{[^}]+}/;\n  //       const jsonMatch = response.data.match(jsonRegex);\n\n  //       if (jsonMatch) {\n  //         const jsonString = jsonMatch[0];\n  //         loadJson = JSON.parse(jsonString);\n  //       }\n  //     }\n  //     else {\n  //       loadJson = response.data;\n  //     }\n\n  //     if (\"failed_image_ids\" in loadJson) {\n  //       setPushMessage(`The alt text for ${loadJson.pushed_images} image${loadJson.pushed_images == 1 ? ' was' : 's were'} successfully updated within Canvas. The alt text for the following image ids failed to push to canvas: ${loadJson.failed_image_ids}`);\n  //     }\n  //     else if (loadJson.pushed_images == 0) {\n  //       setPushMessage('Everything is already up to date.');\n  //     }\n  //     else {\n  //       setPushMessage(`Success! The alt text for ${loadJson.pushed_images} image${loadJson.pushed_images == 1 ? ' was' : 's were'} successfully updated within Canvas.`)\n  //     }\n\n  //     loadTable(courseId, loadJson.pushed_images);\n\n  //   })\n  //   .catch((error) => {\n  //     setPushMessage('An error occurred while pushing the alt text to canvas');\n  //   })\n  //   .finally(() => {\n  //     setIsLoading(false);\n  //   });\n\n  // }\n\n  console.log(\"bye\");\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"container-fluid content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"table-responsive custom-table-responsive\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", {\n    \"class\": \"table custom-table\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, \"Course Name\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Total Images in Use without Alt Text\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \" \\xA0 Total (\", noOfImages, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Alt text added and published\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \" \\xA0 Published (\", publishedImages, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Alt text has been added, but not published\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \"  \\xA0 Ready to Publish (\", imagesToPublish, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Imaged have been marked as advanced, but do not have alt text\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \" Advanced (\", advancedImagesToPublish, \") \\xA0\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Images that are currently in progress and not availalbe\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \"  \\xA0 In Progress (\", availableToPublish, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Shows images with alt text that have not bee published.\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \" \\xA0 Review\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    scope: \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Publish all images with alt text from the course.\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-info\"\n  }), \" \\xA0  Publish All\"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, console.log(courses), (courses || []).map(function (course, index) {\n    if (course.total_images !== course.published_images) {\n      if (courseFilter === \"\" || courseFilter !== \"\" && course.name && course.name.toLowerCase().replaceAll(\" \", \"\").includes(courseFilter.toLowerCase().replaceAll(\" \", \"\"))) {\n        if (courses.length === index + 1 && courses.length === pageNumber * 20 + 20) {\n          console.log(\"last element\" + \" \" + (index + 1));\n          console.log(courses);\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n            scope: \"row\",\n            ref: lastTableElement\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n            target: \"_blank\",\n            href: \"https://usu.instructure.com/courses/\" + course.id\n          }, course.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.total_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.published_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.completed_images) - parseInt(course.published_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.advanced_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.available_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n            type: \"button\",\n            \"class\": \"btn btn-primary\",\n            onClick: function onClick() {\n              return handleReview(course.id, course.name);\n            }\n          }, \"Review\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n            type: \"button\",\n            \"class\": \"btn btn-primary\",\n            onClick: function onClick() {\n              return handlePublish(course.id);\n            }\n          }, \"Publish\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n            \"class\": \"spacer\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n            colspan: \"100\"\n          })))\n\n          // <Table.Row key={parseInt(course.id)}>\n          //   <Table.RowHeader id={parseInt(course.id)}><a target=\"_blank\" href={\"https://usu.instructure.com/courses/\" + course.id}>{course.name}</a></Table.RowHeader>\n          //   <Table.Cell>{parseInt(course.total_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.published_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.completed_images) - parseInt(course.published_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.advanced_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.available_images)}</Table.Cell>\n          //   <Table.Cell><Button color='secondary' onClick={() => handleReview(course.id, course.name)}>Review</Button></Table.Cell>\n          //   <Table.Cell><Button color='secondary' onClick={() => handlePublish(course.id)}>Publish</Button></Table.Cell>\n          // </Table.Row>\n          ;\n        } else {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n            scope: \"row\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n            target: \"_blank\",\n            href: \"https://usu.instructure.com/courses/\" + course.id\n          }, course.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.total_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.published_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.completed_images) - parseInt(course.published_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.advanced_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, parseInt(course.available_images)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n            type: \"button\",\n            \"class\": \"btn btn-primary\",\n            onClick: function onClick() {\n              return handleReview(course.id, course.name);\n            }\n          }, \"Review\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n            type: \"button\",\n            \"class\": \"btn btn-primary\",\n            onClick: function onClick() {\n              return handlePublish(course.id);\n            }\n          }, \"Publish\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n            \"class\": \"spacer\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n            colspan: \"100\"\n          })))\n\n          // <Table.Row key={parseInt(course.id)}>\n          //   <Table.RowHeader id={parseInt(course.id)}><a target=\"_blank\" href={\"https://usu.instructure.com/courses/\" + course.id}>{course.name}</a></Table.RowHeader>\n          //   <Table.Cell>{parseInt(course.total_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.published_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.completed_images) - parseInt(course.published_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.advanced_images)}</Table.Cell>\n          //   <Table.Cell>{parseInt(course.available_images)}</Table.Cell>\n          //   <Table.Cell><Button color='secondary' onClick={() => handleReview(course.id, course.name)}>Review</Button></Table.Cell>\n          //   <Table.Cell><Button color='secondary' onClick={() => handlePublish(course.id)}>Publish</Button></Table.Cell>\n          // </Table.Row>\n          ;\n        }\n      }\n    }\n  })))))\n  // <>\n  //     <Table caption='Courses'>\n  //   <Table.Head renderSortLabel={<ScreenReaderContent>Sort by</ScreenReaderContent>}>\n  //     <Table.Row>\n  //       <Table.ColHeader \n  //         id='name' \n  //         onRequestSort={onSort}\n  //         sortDirection={sortBy === 'name' ? direction : 'none'}\n  //       >\n  //         <span>\n  //           Course Name \n  //         </span>\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader \n  //         id='total_images' \n  //         onRequestSort={onSort}\n  //         sortDirection={sortBy === 'total_images' ? direction : 'none'}\n  //       >\n  //         <BootstrapTooltip title=\"Total Images in Use without Alt Text\">\n  //           <span> \n  //               <i class=\"fa-solid fa-circle-info\"></i> &nbsp; Total ({noOfImages})\n  //           </span>\n  //         </BootstrapTooltip>\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader \n  //         id='published_images' \n  //         onRequestSort={onSort}\n  //         sortDirection={sortBy === 'published_images' ? direction : 'none'}\n  //       >\n  //         <BootstrapTooltip title=\"Alt text added and published\">\n  //           <span> \n  //               <i class=\"fa-solid fa-circle-info\"></i> &nbsp; Published ({publishedImages})  \n  //           </span>\n  //         </BootstrapTooltip>\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader \n  //         id='images_to_publish' \n  //         onRequestSort={onSort}\n  //         sortDirection={sortBy === 'images_to_publish' ? direction : 'none'}\n  //       >\n  //       <BootstrapTooltip title=\"Alt text has been added, but not published\">\n  //         <span> \n  //             <i class=\"fa-solid fa-circle-info\"></i>  &nbsp; Ready to Publish ({imagesToPublish}) \n  //         </span>\n  //       </BootstrapTooltip>\n\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader \n  //         id='advanced_images' \n  //         onRequestSort={onSort}\n  //         sortDirection={sortBy === 'advanced_images' ? direction : 'none'}\n  //       >\n  //         <BootstrapTooltip title=\"Imaged have been marked as advanced, but do not have alt text\">\n  //           <span> \n  //               <i class=\"fa-solid fa-circle-info\"></i> Advanced ({advancedImagesToPublish}) &nbsp;\n  //           </span>\n  //         </BootstrapTooltip>\n\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader \n  //         id='available_images' \n  //         onRequestSort={onSort}\n  //         sortDirection={sortBy === 'available_images' ? direction : 'none'}\n  //       >\n  //         <BootstrapTooltip title=\"Images that are currently in progress and not availalbe\">\n  //           <span> \n  //               <i class=\"fa-solid fa-circle-info\"></i>  &nbsp; In Progress ({availableToPublish}) \n  //           </span>\n  //         </BootstrapTooltip>\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader id='review'>\n  //         <BootstrapTooltip title=\"Shows images with alt text that have not bee published.\">\n  //           <span> \n  //               <i class=\"fa-solid fa-circle-info\"></i> &nbsp; Review\n  //           </span>\n  //         </BootstrapTooltip>\n  //       </Table.ColHeader>\n\n  //       <Table.ColHeader id='publish_course'>\n  //         <BootstrapTooltip title=\"Publish all images with alt text from the course.\">\n  //           <span> \n  //               <i class=\"fa-solid fa-circle-info\"></i> &nbsp;  Publish All \n  //           </span>\n  //         </BootstrapTooltip>\n  //       </Table.ColHeader>\n  //     </Table.Row>\n  //   </Table.Head>\n  //   <Table.Body>\n  //     {(courses || []).map(course => {\n  //       if(course.total_images !== course.published_images){\n  //         if((courseFilter === \"\") || (courseFilter !== \"\" && course.name && course.name.toLowerCase().replaceAll(\" \", \"\").includes(courseFilter.toLowerCase().replaceAll(\" \", \"\")))){\n  //           return (\n  //             <Table.Row key={parseInt(course.id)}>\n  //               <Table.RowHeader id={parseInt(course.id)}><a target=\"_blank\" href={\"https://usu.instructure.com/courses/\" + course.id}>{course.name}</a></Table.RowHeader>\n  //               <Table.Cell>{parseInt(course.total_images)}</Table.Cell>\n  //               <Table.Cell>{parseInt(course.published_images)}</Table.Cell>\n  //               <Table.Cell>{parseInt(course.completed_images) - parseInt(course.published_images)}</Table.Cell>\n  //               <Table.Cell>{parseInt(course.advanced_images)}</Table.Cell>\n  //               <Table.Cell>{parseInt(course.available_images)}</Table.Cell>\n  //               <Table.Cell><Button color='secondary' onClick={() => handleReview(course.id, course.name)}>Review</Button></Table.Cell>\n  //               <Table.Cell><Button color='secondary' onClick={() => handlePublish(course.id)}>Publish</Button></Table.Cell>\n  //             </Table.Row>\n  //           )\n  //         }\n  //       }\n  //     })}\n  //   </Table.Body>\n  // </Table></>\n  ;\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/CoursesTable.js?");

/***/ }),

/***/ 31863:
/*!*******************************!*\
  !*** ./src/pages/HomePage.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ImageEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ImageEditor */ 93821);\n\n\nfunction HomePage(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ImageEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    basePath: props.basePath\n  });\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/HomePage.js?");

/***/ }),

/***/ 93821:
/*!**********************************!*\
  !*** ./src/pages/ImageEditor.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ImageEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui */ 110);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui */ 63118);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui */ 25199);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui */ 80449);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/ui */ 22434);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @instructure/ui */ 20650);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @instructure/ui */ 42764);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @instructure/ui */ 20472);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @instructure/ui */ 77545);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @instructure/ui */ 17242);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @instructure/ui */ 26993);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @instructure/ui */ 55260);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @instructure/ui */ 12817);\n/* harmony import */ var _ContextPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ContextPage */ 25985);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dompurify */ 27856);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Alert */ 16649);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ 5274);\n/* harmony import */ var _ButtonGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ButtonGroup */ 89072);\n/* harmony import */ var _mui_material_Chip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/Chip */ 63102);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material/Tooltip */ 21023);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material/Tooltip */ 48999);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/styles */ 90948);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"className\"];\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\n\n\n\nvar BootstrapTooltip = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (_ref) {\n  var className = _ref.className,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _extends({}, props, {\n    arrow: true,\n    classes: {\n      popper: className\n    }\n  }));\n})(function (_ref2) {\n  var theme = _ref2.theme;\n  return _defineProperty(_defineProperty({}, \"& .\".concat(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_7__[\"default\"].arrow), {\n    color: theme.palette.common.black\n  }), \"& .\".concat(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_7__[\"default\"].tooltip), {\n    backgroundColor: theme.palette.common.black,\n    fontSize: 15\n  });\n});\nfunction ImageEditor(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),\n    _useState2 = _slicedToArray(_useState, 2),\n    imgUrl = _useState2[0],\n    setImgUrl = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    altText = _useState4[0],\n    setAltText = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentImageId = _useState6[0],\n    setCurrentImageId = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loadError = _useState8[0],\n    setLoadError = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    submitError = _useState10[0],\n    setSubmitError = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    markAdvancedError = _useState12[0],\n    setMarkAdvancedError = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isDecorative = _useState14[0],\n    setIsDecorative = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    skipModalOpen = _useState16[0],\n    setSkipModalOpen = _useState16[1];\n  var _useState17 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    advancedModalOpen = _useState18[0],\n    setAdvancedModalOpen = _useState18[1];\n  var _useState19 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    unusableModalOpen = _useState20[0],\n    setUnusableModalOpen = _useState20[1];\n  var _useState21 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    isLoading = _useState22[0],\n    setIsLoading = _useState22[1];\n  var _useState23 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState24 = _slicedToArray(_useState23, 2),\n    inputDisabled = _useState24[0],\n    setInputDisabled = _useState24[1];\n  var _useState25 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('400px'),\n    _useState26 = _slicedToArray(_useState25, 2),\n    imageHeight = _useState26[0],\n    setImageHeight = _useState26[1];\n  var _useState27 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState28 = _slicedToArray(_useState27, 2),\n    viewContext = _useState28[0],\n    setViewContext = _useState28[1];\n  var _useState29 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n    _useState30 = _slicedToArray(_useState29, 2),\n    isTextAreaInline = _useState30[0],\n    setIsTextAreaInline = _useState30[1];\n  var _useState31 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),\n    _useState32 = _slicedToArray(_useState31, 2),\n    advancedType = _useState32[0],\n    setAdvancedType = _useState32[1];\n  var _useState33 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState34 = _slicedToArray(_useState33, 2),\n    imageName = _useState34[0],\n    setImageName = _useState34[1];\n  var _useState35 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState36 = _slicedToArray(_useState35, 2),\n    username = _useState36[0],\n    setUserName = _useState36[1];\n  var _useState37 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState38 = _slicedToArray(_useState37, 2),\n    userimage = _useState38[0],\n    setUserImage = _useState38[1];\n  var _useState39 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState40 = _slicedToArray(_useState39, 2),\n    activeCourseList = _useState40[0],\n    setActiveCourseList = _useState40[1];\n  var _useState41 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"All Courses\"),\n    _useState42 = _slicedToArray(_useState41, 2),\n    selectedCourse = _useState42[0],\n    setSelectedCourse = _useState42[1];\n  var _useState43 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState44 = _slicedToArray(_useState43, 2),\n    alertOpen = _useState44[0],\n    setAlertOpen = _useState44[1];\n  function getUserDetails() {\n    (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n      method: 'get',\n      url: \"\".concat(props.basePath, \"/get_user_details\")\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      setUserName(loadJson.username);\n      setUserImage(loadJson.userimage);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n\n  // function getImageName(currentImageId){\n  //   console.log(currentImageId);\n  //     axios({ \n  //       method:'post',\n  //       url:`${props.basePath}/task.php?task=get_image_name`,\n  //       data: {\n  //         image_id: currentImageId\n  //       }\n  //     })\n  //     .then((response) => {\n\n  //       var loadJson = {};\n\n  //       if(typeof response.data === \"string\"){\n  //         const jsonRegex = /{[^}]+}/;\n  //         const jsonMatch = response.data.match(jsonRegex);\n\n  //         if (jsonMatch) {\n  //           const jsonString = jsonMatch[0];\n  //           loadJson = JSON.parse(jsonString);\n  //         }\n  //       }\n  //       else {\n  //         loadJson = response.data;\n  //       }\n\n  //       setImageName(loadJson.display_name);\n\n  //     })\n  //     .catch((error) => {\n  //       console.log(error);\n  //     })\n  // }\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getUserDetails();\n  }, []);\n  function viewContextChange(view) {\n    setViewContext(view);\n  }\n  var imageRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getActiveCourseImages();\n    getImage();\n    window.addEventListener('resize', handleResize);\n    if (window.innerWidth <= 300) {\n      setImageHeight('200px');\n    }\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getImage();\n    clearInput();\n  }, [selectedCourse]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getLockStatus();\n  }, [currentImageId]);\n  function getLockStatus() {\n    var imageId = \"image_id=\".concat(currentImageId);\n    (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n      method: 'get',\n      url: \"\".concat(props.basePath, \"/get_lock_status?\").concat(imageId)\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      if (!loadJson.locked) {\n        lockImage(true);\n      }\n    });\n  }\n  function lockImage(lockStatus) {\n    var lock = lockStatus !== -1 ? \"lock=\".concat(lockStatus, \"&\") : \"\";\n    if (currentImageId !== -1 && lock !== \"\") {\n      var imageId = \"image_id=\".concat(currentImageId);\n      (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n        method: 'get',\n        url: \"\".concat(props.basePath, \"/update_course_id?\").concat(lock).concat(imageId)\n      }).then(function (response) {\n        var loadJson = {};\n        if (typeof response.data === \"string\") {\n          var jsonRegex = /{[^}]+}/;\n          var jsonMatch = response.data.match(jsonRegex);\n          if (jsonMatch) {\n            var jsonString = jsonMatch[0];\n            loadJson = JSON.parse(jsonString);\n          }\n        } else {\n          loadJson = response.data;\n        }\n        if ('error' in loadJson) {\n          setAlertOpen(loadJson.error);\n          getImage();\n          clearInput();\n        }\n      });\n    }\n  }\n  function getActiveCourseImages() {\n    var advancedParameter = props.advancedType ? \"advanced_type=\".concat(props.advancedType) : '';\n    axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"\".concat(props.basePath, \"/get_active_courses?\").concat(advancedParameter)).then(function (response) {\n      var activeCourseList = response.data;\n      var courseObjects = [];\n      var lookUp = {};\n      activeCourseList.forEach(function (element) {\n        if (!(element['id'] in lookUp)) {\n          courseObjects.push(element);\n          lookUp[element['id']] = element['course_name'];\n        }\n      });\n      var courseContinueFlag = false;\n      courseObjects.forEach(function (element) {\n        if (element['id'] === selectedCourse) {\n          courseContinueFlag = true;\n        }\n      });\n      if (!courseContinueFlag && selectedCourse !== \"All Courses\") {\n        setSelectedCourse(\"All Courses\");\n      }\n      courseObjects.sort(function (a, b) {\n        var fa = a.course_name,\n          fb = b.course_name;\n        if (fa < fb) {\n          return -1;\n        }\n        if (fa > fb) {\n          return 1;\n        }\n        return 0;\n      });\n      setActiveCourseList(courseObjects);\n    });\n  }\n\n  // get the next image the queue for a given user \n  function getImage() {\n    setSubmitError(\"\");\n    setLoadError(\"\");\n    var advancedParameter = props.advancedType ? \"advanced_type=\".concat(props.advancedType, \"&\") : '';\n    var activeImageCourseId = selectedCourse !== \"\" ? \"selectedCourse=\".concat(selectedCourse) : '';\n    axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"\".concat(props.basePath, \"/get_image?\").concat(advancedParameter).concat(activeImageCourseId)).then(function (response) {\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          var getImageJson = JSON.parse(jsonString);\n          if (getImageJson) {\n            if (getImageJson.image_id) {\n              setImgUrl(getImageJson.url);\n              setCurrentImageId(getImageJson.image_id);\n              setViewContext(false);\n              setViewContext(true);\n              setImageName(getImageJson.image_name);\n            } else if (getImageJson.no_images) {\n              setLoadError(\"No images left in queue\");\n              setImgUrl(null);\n              setInputDisabled(true);\n              resetView();\n            }\n          } else {\n            setLoadError(\"Image could not be loaded\");\n            setImgUrl(null);\n            setInputDisabled(true);\n            resetView();\n          }\n        }\n      } else {\n        var _getImageJson = response.data;\n        if (_getImageJson) {\n          if (_getImageJson.image_id) {\n            setImgUrl(_getImageJson.url);\n            setCurrentImageId(_getImageJson.image_id);\n            setViewContext(false);\n            setViewContext(true);\n            setImageName(_getImageJson.image_name);\n          } else if (_getImageJson.no_images) {\n            setLoadError(\"No images left in queue\");\n            setImgUrl(null);\n            setInputDisabled(true);\n            resetView();\n          }\n        } else {\n          setLoadError(\"Image could not be loaded\");\n          setImgUrl(null);\n          setInputDisabled(true);\n          resetView();\n        }\n      }\n    })[\"catch\"](function (error) {\n      setLoadError(\"Image could not be loaded\");\n      setImgUrl(null);\n      setInputDisabled(true);\n      resetView();\n    });\n  }\n  ;\n  function handleResize() {\n    setImageHeight(imageRef.current.clientHeight + \"px\");\n    if (window.innerWidth < convertRemToPixels(32)) {\n      setIsTextAreaInline(false);\n    } else {\n      setIsTextAreaInline(true);\n    }\n  }\n\n  // submits the current alt text for current image\n  function submitAltText() {\n    if (altText != \"\" || isDecorative) {\n      setIsLoading(true);\n\n      // XSS protection\n      var cleanAltText = dompurify__WEBPACK_IMPORTED_MODULE_2___default().sanitize(altText, {\n        USE_PROFILES: {\n          html: true\n        }\n      });\n\n      // trim whitespace from alt text and ensure ending with \".\"\n      cleanAltText = cleanAltText.trim();\n      if (!cleanAltText.endsWith('.') && !cleanAltText.endsWith('?') & !cleanAltText.endsWith('!')) {\n        cleanAltText += \".\";\n      }\n      (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n        method: 'post',\n        url: \"\".concat(props.basePath, \"/set_image_completed\"),\n        data: {\n          image_id: currentImageId,\n          alt_text: isDecorative ? null : cleanAltText,\n          is_decorative: isDecorative,\n          username: username,\n          userurl: userimage\n        }\n      }).then(function (response) {\n        var loadJson = {};\n        if (typeof response.data === \"string\") {\n          var jsonRegex = /{[^{}]*(?:{[^{}]*}[^{}]*)*}/;\n          var jsonMatch = response.data.match(jsonRegex);\n          if (jsonMatch) {\n            var jsonString = jsonMatch[0];\n            loadJson = JSON.parse(jsonString);\n          }\n        } else {\n          loadJson = response.data;\n        }\n        if (loadJson.error) {\n          setSubmitError('Failed to submit image.');\n          resetView();\n        } else {\n          lockImage(false);\n          getActiveCourseImages();\n          getImage();\n          clearInput();\n        }\n      })[\"catch\"](function (error) {\n        setSubmitError('Failed to submit image.');\n        resetView();\n      });\n    }\n  }\n  ;\n  function markImageAsAdvanced() {\n    if (!advancedType) {\n      setMarkAdvancedError('Please select a category');\n    } else {\n      setIsLoading(true);\n      (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n        method: 'post',\n        url: \"\".concat(props.basePath, \"/mark_image_as_advanced\"),\n        data: {\n          image_id: currentImageId,\n          advanced_type: advancedType\n        }\n      }).then(function (response) {\n        var loadJson = {};\n        if (typeof response.data === \"string\") {\n          var jsonRegex = /{[^}]+}/;\n          var jsonMatch = response.data.match(jsonRegex);\n          if (jsonMatch) {\n            var jsonString = jsonMatch[0];\n            loadJson = JSON.parse(jsonString);\n          }\n        } else {\n          loadJson = response.data;\n        }\n        if (loadJson.error) {\n          setSubmitError('Failed to submit image.');\n          resetView();\n        } else {\n          lockImage(false);\n          getActiveCourseImages();\n          getImage();\n          clearInput();\n        }\n      })[\"catch\"](function (error) {\n        setMarkAdvancedError('Failed to mark image as advanced');\n        setIsLoading(false);\n      });\n    }\n  }\n  function markImageAsUnusable() {\n    setIsLoading(true);\n    (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(props.basePath, \"/mark_image_as_unusable\"),\n      data: {\n        image_id: currentImageId\n      }\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      if (loadJson.error) {\n        setSubmitError('Failed to mark image as unusable');\n        resetView();\n      } else {\n        lockImage(false);\n        getActiveCourseImages();\n        getImage();\n        clearInput();\n      }\n    });\n  }\n\n  // getting the alt text from TextInput\n  function getAltTextValue(event, value) {\n    setAltText(event.target.value);\n  }\n  ;\n\n  // inverting isDecorative value when checkbox clicked\n  function toggleIsDecorative() {\n    setIsDecorative(!isDecorative);\n  }\n  ;\n\n  // clears the text inputs value\n  function clearInput() {\n    setAltText(\"\");\n    setIsDecorative(false);\n  }\n  ;\n  function skipImage() {\n    setIsLoading(true);\n    (0,axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(props.basePath, \"/skip_image\"),\n      data: {\n        image_id: currentImageId\n      }\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      if (loadJson.error) {\n        setSubmitError('Failed to skip image.');\n        resetView();\n      } else {\n        getImage();\n        clearInput();\n      }\n    });\n  }\n  ;\n  function handleImageLoad() {\n    resetView();\n    handleResize();\n  }\n  function resetView() {\n    setSkipModalOpen(false);\n    setAdvancedModalOpen(false);\n    setUnusableModalOpen(false);\n    setIsLoading(false);\n  }\n  function convertRemToPixels(rem) {\n    return rem * parseFloat(getComputedStyle(document.documentElement).fontSize);\n  }\n  var handleChange = function handleChange(event) {\n    setSelectedCourse(event.target.value);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"container-fluid\",\n    id: \"home-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"space-children\",\n    id: \"div1\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"Alt Text\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"buttonGroup\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ButtonGroup__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    courses: activeCourseList,\n    handleChange: handleChange,\n    selectedCourse: selectedCourse\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n    title: \"Click on name to copy it to clipboard\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Chip__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      style: {\n        \"color\": \"black\"\n      }\n    }, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"b\", null, \"Image Name :\"), \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      onClick: function onClick() {\n        navigator.clipboard.writeText(imageName);\n      }\n    }, imageName)),\n    color: \"primary\",\n    variant: \"outlined\"\n  })), imgUrl ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"image-container\",\n    style: {\n      height: imageHeight\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n    id: \"main-image\",\n    src: imgUrl,\n    alt: \"image pulled\",\n    ref: imageRef,\n    onLoad: handleImageLoad\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"image-container\",\n    style: {\n      height: imageHeight\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Text, {\n    as: \"p\"\n  }, loadError)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_11__.TextArea, {\n    id: \"alt-text-input\",\n    label: \"Alt Text\",\n    placeholder: \"Enter Alt Text Here\",\n    height: \"5rem\",\n    resize: \"both\",\n    autoGrow: true,\n    inline: isTextAreaInline,\n    value: altText,\n    onChange: getAltTextValue,\n    disabled: isDecorative || inputDisabled\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_12__.Checkbox, {\n    id: \"isDecorative-checkbox\",\n    label: \"Mark Image as Decorative\",\n    variant: \"simple\",\n    inline: true,\n    checked: isDecorative,\n    onChange: toggleIsDecorative,\n    disabled: inputDisabled\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    id: \"submit-btn\",\n    color: \"success\",\n    onClick: submitAltText,\n    interaction: !inputDisabled && (altText != '' || isDecorative) ? \"enabled\" : \"disabled\"\n  }, \"Submit\"), props.advancedType === undefined ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    id: \"advanced-btn\",\n    color: \"secondary\",\n    onClick: function onClick() {\n      setMarkAdvancedError(null);\n      setAdvancedType(null);\n      setAdvancedModalOpen(true);\n    },\n    interaction: inputDisabled ? \"disabled\" : \"enabled\"\n  }, \"Mark As Advanced\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    id: \"unusable-btn\",\n    color: \"secondary\",\n    onClick: markImageAsUnusable,\n    interaction: inputDisabled ? \"disabled\" : \"enabled\"\n  }, \"Needs Conversion\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    id: \"skip-btn\",\n    color: \"secondary\",\n    onClick: function onClick() {\n      return setSkipModalOpen(true);\n    },\n    interaction: inputDisabled ? \"disabled\" : \"enabled\"\n  }, \"Skip Image\"), submitError !== \"\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_14__.Alert, {\n    variant: \"error\",\n    renderCloseButtonLabel: \"close\"\n  }, submitError)), viewContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ContextPage__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    imageId: currentImageId,\n    modalOpen: viewContext,\n    onViewContextChange: viewContextChange,\n    basePath: props.basePath\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal, {\n    id: \"skip-modal\",\n    open: skipModalOpen,\n    size: \"small\",\n    label: \"Skip Image\",\n    onDismiss: function onDismiss() {\n      return setSkipModalOpen(false);\n    },\n    shouldCloseOnDocumentClick: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_16__.CloseButton, {\n    placement: \"end\",\n    offset: \"medium\",\n    screenReaderLabel: \"Close\",\n    onClick: function onClick() {\n      return setSkipModalOpen(false);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_17__.Heading, {\n    level: \"h2\"\n  }, \"Skip Image\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Text, null, \"Are you sure that you want to skip this image?\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.Footer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      return setSkipModalOpen(false);\n    }\n  }, \"Cancel\"), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    color: \"danger\",\n    onClick: skipImage\n  }, \"Skip Image\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal, {\n    id: \"advanced-modal\",\n    open: advancedModalOpen,\n    size: \"small\",\n    label: \"Mark Image as Advanced\",\n    onDismiss: function onDismiss() {\n      return setAdvancedModalOpen(false);\n    },\n    shouldCloseOnDocumentClick: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_16__.CloseButton, {\n    placement: \"end\",\n    offset: \"medium\",\n    screenReaderLabel: \"Close\",\n    onClick: function onClick() {\n      return setAdvancedModalOpen(false);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_17__.Heading, {\n    level: \"h2\"\n  }, \"Mark Image as Advanced\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_18__.RadioInputGroup, {\n    description: \"Which of the following categories does this image best fit into?\",\n    onChange: function onChange(event, value) {\n      return setAdvancedType(value);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_19__.RadioInput, {\n    key: \"lots_of_text\",\n    value: \"lots_of_text\",\n    label: \"Lots of Text\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_19__.RadioInput, {\n    key: \"needs_content_expertise\",\n    value: \"needs_content_expertise\",\n    label: \"Needs Content Expertise\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_19__.RadioInput, {\n    key: \"foreign_language\",\n    value: \"foreign_language\",\n    label: \"Foreign Language\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_19__.RadioInput, {\n    key: \"other\",\n    value: \"other\",\n    label: \"Other\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Text, {\n    as: \"p\"\n  }, markAdvancedError)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.Footer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      return setAdvancedModalOpen(false);\n    }\n  }, \"Cancel\"), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_13__.Button, {\n    color: \"primary\",\n    onClick: markImageAsAdvanced\n  }, \"Submit\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_20__.Overlay, {\n    id: \"loading-overlay\",\n    open: isLoading,\n    label: \"Skipping Image\",\n    shouldContainFocus: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_21__.Mask, {\n    fullscreen: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_22__.Spinner, {\n    renderTitle: \"Skipping Image\",\n    size: \"large\",\n    margin: \"auto\"\n  }))));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/ImageEditor.js?");

/***/ }),

/***/ 22039:
/*!*************************************!*\
  !*** ./src/pages/LoadImagesPage.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoadImagesPage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui */ 181);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui */ 25199);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui */ 80449);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui */ 22434);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui */ 26993);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui */ 55260);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui */ 92439);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui */ 110);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui */ 12817);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ 5274);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nfunction LoadImagesPage(props) {\n  // if (!document.cookie.match(/^.*[;]?at_admin=true[;]?.*$/)) {\n  //   return (\n  //     <p>You are not authorized to access this page</p>\n  //   )\n  // }\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    courseId = _useState2[0],\n    setCourseId = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loadMessage = _useState4[0],\n    setLoadMessage = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoading = _useState6[0],\n    setIsLoading = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    courseIsPriority = _useState8[0],\n    setCourseIsPriority = _useState8[1];\n  var togglePriority = function togglePriority() {\n    setCourseIsPriority(!courseIsPriority);\n  };\n\n  // requests to load images from canvas into database\n  var loadFromCanvas = function loadFromCanvas() {\n    setLoadMessage('');\n    if (courseId != 0 && courseId.toString().length == 6) {\n      setIsLoading(true);\n      (0,axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        method: 'post',\n        url: \"\".concat(props.basePath, \"/load_images\"),\n        data: {\n          oauth_consumer_key: \"1009~DG8gfHpHu80jXy33tP4J523YdBRps5TzMPfe49uMaZXDAkAjTBcmXzrcet7v9Ir4\",\n          course_id: courseId,\n          is_priority: courseIsPriority\n        }\n      }).then(function (response) {\n        var loadJson = {};\n        if (typeof response.data === \"string\") {\n          var jsonRegex = /{[^}]+}/;\n          var jsonMatch = response.data.match(jsonRegex);\n          if (jsonMatch) {\n            var jsonString = jsonMatch[0];\n            loadJson = JSON.parse(jsonString);\n          }\n        } else {\n          loadJson = response.data;\n        }\n        if (loadJson.error) {\n          setLoadMessage(loadJson.message);\n        } else {\n          var newMessage;\n          if (loadJson.images_added == 0) {\n            newMessage = 'No images were added to the queue. ';\n          } else if (loadJson.images_added == 1) {\n            newMessage = '1 image was successfully added to the queue. ';\n          } else {\n            newMessage = \"\".concat(loadJson.images_added, \" images were successfully added to the queue. \");\n          }\n          if (loadJson.message) {\n            newMessage += loadJson.message + '.';\n          }\n          setLoadMessage(newMessage);\n        }\n        clearInput();\n      })[\"catch\"](function (error) {\n        setLoadMessage('An error occurred while loading the images from canvas.');\n      })[\"finally\"](function () {\n        setIsLoading(false);\n        // loadTable();\n      });\n    } else {\n      setLoadMessage('Please enter a valid course id.');\n    }\n  };\n\n  // gets the course id from text area\n  var getCourseIdValue = function getCourseIdValue(event, value) {\n    if (/^[0-9]*$/.test(value) && value.length <= 6) {\n      setCourseId(value);\n    }\n  };\n\n  // resets input\n  var clearInput = function clearInput() {\n    setCourseId(\"\");\n    setCourseIsPriority(false);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"space-children\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.NumberInput, {\n    id: \"course-id\",\n    renderLabel: \"Course Id Input\",\n    placeholder: \"Enter course ID here\",\n    width: \"12em\",\n    showArrows: false,\n    value: courseId,\n    onChange: getCourseIdValue\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, {\n    id: \"priority-checkbox\",\n    label: \"Mark Course as a Priority\",\n    variant: \"simple\",\n    inline: true,\n    checked: courseIsPriority,\n    onChange: togglePriority\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    color: \"success\",\n    onClick: loadFromCanvas\n  }, \"Load Images from Canvas Course\"), loadMessage !== \"\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_5__.Alert, {\n    variant: \"info\",\n    renderCloseButtonLabel: \"close\",\n    onDismiss: function onDismiss() {\n      return setLoadMessage(\"\");\n    }\n  }, loadMessage)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_6__.Overlay, {\n    open: isLoading,\n    label: \"Loading Images\",\n    shouldContainFocus: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_7__.Mask, {\n    fullscreen: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_8__.Flex, {\n    direction: \"column\",\n    justifyItems: \"center\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_8__.Flex.Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_9__.Text, {\n    as: \"p\"\n  }, \"This may take some time depending on the size of the course\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_8__.Flex.Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_10__.Spinner, {\n    renderTitle: \"Loading\",\n    size: \"large\",\n    margin: \"auto\"\n  }))))));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/LoadImagesPage.js?");

/***/ }),

/***/ 92865:
/*!*********************************!*\
  !*** ./src/pages/Navigation.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Nav)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ 89250);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui */ 20472);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui */ 99673);\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar totalItemsCount = 2;\nfunction Nav(props) {\n  // Get the current path in order to determine which nav item should be active\n  var path = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useLocation)().pathname;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(totalItemsCount),\n    _useState2 = _slicedToArray(_useState, 2),\n    visibleItemsCount = _useState2[0],\n    setVisibleItemsCount = _useState2[1];\n  var handleUpdate = function handleUpdate(newVisibleItemsCount) {\n    return setVisibleItemsCount(newVisibleItemsCount.visibleItemsCount);\n  };\n  var navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useNavigate)();\n  var handleOnClick = function handleOnClick(currentPage) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n      navigate(currentPage, {\n        replace: true\n      });\n    }, [navigate]);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_2__.Heading, {\n    level: \"h2\",\n    as: \"h1\",\n    margin: \"large large\",\n    border: \"bottom\"\n  }, \"Alt Text App\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.AppNav, _extends({\n    screenReaderLabel: \"App navigation\",\n    visibleItemsCount: visibleItemsCount,\n    onUpdate: handleUpdate\n  }, props, {\n    themeOverride: {\n      horizontalMargin: '6%'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.AppNav.Item, {\n    isSelected: path == '/' || path == props.basePath + '/' ? true : false,\n    renderLabel: \"Home\",\n    onClick: handleOnClick('/')\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.AppNav.Item, {\n    isSelected: path == '/advanced_images' ? true : false,\n    renderLabel: \"Advanced Images\",\n    onClick: handleOnClick('/advanced_images')\n  }), props.userRole === \"Instructor\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.AppNav.Item, {\n    isSelected: path == '/load_images' ? true : false,\n    renderLabel: \"Load Images\",\n    onClick: handleOnClick('/load_images')\n  }), props.userRole === \"Instructor\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_3__.AppNav.Item, {\n    isSelected: path == '/review_publish' ? true : false,\n    renderLabel: \"Review & Publish\",\n    onClick: handleOnClick('/review_publish')\n  })));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/Navigation.js?");

/***/ }),

/***/ 29078:
/*!**********************************!*\
  !*** ./src/pages/ReviewModal.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReviewModal)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ 73935);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui */ 80449);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui */ 20012);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui */ 92439);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/ui */ 97703);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @instructure/ui */ 63118);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @instructure/ui */ 86333);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @instructure/ui */ 25199);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @instructure/ui */ 22434);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @instructure/ui */ 26993);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @instructure/ui */ 55260);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @instructure/ui */ 12817);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dompurify */ 27856);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Alert */ 16649);\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Avatar */ 62034);\n/* harmony import */ var _ContextPage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ContextPage */ 25985);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! axios */ 5274);\n/* harmony import */ var _mui_material_Chip__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material/Chip */ 63102);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material/Tooltip */ 21023);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material/Tooltip */ 48999);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material/styles */ 90948);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"className\"];\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\n\n\n\n\nvar BootstrapTooltip = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(function (_ref) {\n  var className = _ref.className,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_7__[\"default\"], _extends({}, props, {\n    arrow: true,\n    classes: {\n      popper: className\n    }\n  }));\n})(function (_ref2) {\n  var theme = _ref2.theme;\n  return _defineProperty(_defineProperty({}, \"& .\".concat(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8__[\"default\"].arrow), {\n    color: theme.palette.common.black\n  }), \"& .\".concat(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8__[\"default\"].tooltip), {\n    backgroundColor: theme.palette.common.black,\n    fontSize: 15\n  });\n});\nfunction ReviewModal(_ref4) {\n  var basePath = _ref4.basePath,\n    open = _ref4.open,\n    onDismiss = _ref4.onDismiss,\n    courseUnderReview = _ref4.courseUnderReview,\n    completedImages = _ref4.completedImages,\n    setCompletedImages = _ref4.setCompletedImages,\n    handlePublish = _ref4.handlePublish,\n    handleReview = _ref4.handleReview;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tempImages = _useState2[0],\n    setTempImages = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    alertOpen = _useState4[0],\n    setAlertOpen = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    alertId = _useState6[0],\n    setAlertId = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    changeUI = _useState8[0],\n    setChangeUI = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    nameArray = _useState10[0],\n    setNameArray = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    viewContext = _useState12[0],\n    setViewContext = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    imageId = _useState14[0],\n    setImageId = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState16 = _slicedToArray(_useState15, 2),\n    imageUrlArray = _useState16[0],\n    setImageUrlArray = _useState16[1];\n  var _useState17 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    openNewModal = _useState18[0],\n    setNewOpenModal = _useState18[1];\n  var _useState19 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    isLoadingReview = _useState20[0],\n    setIsLoadingReview = _useState20[1];\n  var Backdrop = function Backdrop(props) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"backdrop\"\n    });\n  };\n\n  // function getImageName(currentImageId){\n  //     console.log(currentImageId);\n  //     axios({ \n  //         method:'post',\n  //         url:`${props.basePath}/task.php?task=get_image_name`,\n  //         data: {\n  //         image_id: currentImageId\n  //         }\n  //     })\n  //     .then((response) => {\n\n  //         var loadJson = {};\n\n  //         if(typeof response.data === \"string\"){\n  //         const jsonRegex = /{[^}]+}/;\n  //         const jsonMatch = response.data.match(jsonRegex);\n\n  //         if (jsonMatch) {\n  //             const jsonString = jsonMatch[0];\n  //             loadJson = JSON.parse(jsonString);\n  //         }\n  //         }\n  //         else {\n  //         loadJson = response.data;\n  //         }\n\n  //         setImageName(loadJson.display_name);\n\n  //     })\n  //     .catch((error) => {\n  //         console.log(error);\n  //     })\n  // }\n\n  var ModalOverlay = function ModalOverlay(props) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"modal-card\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"header\", {\n      className: \"header\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"Feedback\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"content\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      name: props.name,\n      imageUrl: props.imageUrl,\n      onModalClick: false\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      \"class\": \"input-group mb-3\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      \"class\": \"btn btn-outline-primary\",\n      type: \"button\",\n      id: \"button-addon1\",\n      onClick: function onClick() {\n        handleFeedback(props.name, props.pageImageUrl, document.getElementById('comment-textarea').value);\n      }\n    }, \"Send Feedback\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"textarea\", {\n      id: \"comment-textarea\",\n      \"class\": \"form-control\",\n      \"aria-label\": \"With textarea\",\n      placeholder: \"Enter the comment\"\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"footer\", {\n      className: \"actions\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_9__.Button, {\n      onClick: function onClick() {\n        setNewOpenModal(false);\n      }\n    }, \"Close\")));\n  };\n  function handleFeedback(name, image_url, comment) {\n    (0,axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(basePath, \"/update_feedback\"),\n      data: {\n        name: name,\n        image_url: image_url,\n        comment: comment\n      }\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n  function viewContextChange(view) {\n    setViewContext(view);\n  }\n  function handleInternalPublish() {\n    handlePublish(courseUnderReview.courseId);\n    onDismiss();\n  }\n  function getUserDetails(image_url) {\n    (0,axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n      method: 'get',\n      url: \"\".concat(basePath, \"/get_user_details\")\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      updateAltTextUpdatedUserDetails(image_url, loadJson.username, loadJson.userimage);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n  function getAltTextUpdatedUserDetails() {\n    (0,axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(basePath, \"/get_alt_text_updated_user_name\"),\n      data: {\n        image_url: 'all'\n      }\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /\\[.*\\]/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      setImageUrlArray(loadJson);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getAltTextUpdatedUserDetails();\n  }, []);\n  function updateAltTextUpdatedUserDetails(imageUrl, username, userimage) {\n    (0,axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(basePath, \"/update_user_alt_text\"),\n      data: {\n        image_url: imageUrl,\n        new_user: username,\n        user_url: userimage\n      }\n    }).then(function (response) {\n      getAltTextUpdatedUserDetails();\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n  function markImageAsUnusable(currentImageId) {\n    setIsLoadingReview(true);\n    (0,axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(basePath, \"/mark_image_as_unusable\"),\n      data: {\n        image_id: currentImageId\n      }\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      console.log(loadJson);\n      if (loadJson.error) {\n        setAlertId(currentImageId);\n        setAlertOpen(\"Failed to set to Needs Conversion\");\n      }\n      setIsLoadingReview(false);\n      handleReview(loadJson.course_id, courseUnderReview.courseName);\n      getAltTextUpdatedUserDetails();\n      onDismiss();\n    });\n  }\n\n  // function resetView() {\n  //     setSkipModalOpen(false);\n  //     setAdvancedModalOpen(false);\n  //     setUnusableModalOpen(false);\n  //     setIsLoading(false);\n  //   }\n\n  var handleAltTextChange = function handleAltTextChange(event, imageUrl) {\n    setTempImages(tempImages.map(function (image) {\n      if (image.image_url != imageUrl) return image;\n      return {\n        image_url: image.image_url,\n        alt_text: event.target.value,\n        image_id: image.image_id,\n        image_name: image.image_name\n      };\n    }));\n  };\n  var handleUpdateAltText = function handleUpdateAltText(event, imageUrl, newAltText, isDecorative) {\n    // XSS protection\n    var cleanAltText = dompurify__WEBPACK_IMPORTED_MODULE_2___default().sanitize(newAltText, {\n      USE_PROFILES: {\n        html: true\n      }\n    });\n\n    // trim whitespace from alt text and ensure ending with \".\"\n    cleanAltText = cleanAltText.trim();\n    if (!cleanAltText.endsWith('.') && !cleanAltText.endsWith('?') & !cleanAltText.endsWith('!')) {\n      cleanAltText += \".\";\n    }\n    (0,axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(basePath, \"/update_image_alt_text\"),\n      data: {\n        image_url: imageUrl,\n        is_decorative: isDecorative ? \"1\" : \"0\",\n        new_alt_text: isDecorative ? \"\" : cleanAltText\n      }\n    }).then(function (response) {})[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n  function modalHandler(img_url, name) {\n    setNewOpenModal(true);\n  }\n  function renderCompletedImages() {\n    var imageId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    if (tempImages.length === 0) {\n      setTempImages(completedImages);\n    }\n    var gridWidth = 3;\n    var rows = [];\n    // add 3 images and then 3 alt texts to rowElement\n    for (var i = 0; i < tempImages.length; i += gridWidth) {\n      var row = tempImages.slice(i, i + gridWidth);\n      var rowElement = (row || []).map(function (image) {\n        if (imageId && image.image_id !== imageId) {\n          return null;\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_11__.Grid.Col, {\n          width: 4,\n          key: image.image_url\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_12__.Flex, {\n          direction: \"column\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BootstrapTooltip, {\n          title: \"Click on name to copy it to clipboard\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Chip__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n          label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            style: {\n              \"color\": \"black\"\n            }\n          }, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"b\", null, \"Image Name :\"), \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            onClick: function onClick() {\n              navigator.clipboard.writeText(image.image_name);\n            }\n          }, image.image_name), \" \"),\n          color: \"primary\",\n          variant: \"outlined\"\n        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          \"class\": \"card border-warning\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          \"class\": \"card-body\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_14__.Img, {\n          src: image.image_url,\n          alt: \"Image got removed from the course\"\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_15__.TextArea, {\n          label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_16__.ScreenReaderContent, null, \"Alt Text\"),\n          value: image.alt_text,\n          onChange: function onChange(event) {\n            return handleAltTextChange(event, image.image_url);\n          },\n          placeholder: \"The image is marked as decorative\",\n          maxHeight: \"10rem\"\n        }), alertId === image.image_id && alertOpen !== \"\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Alert__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          altText: alertOpen,\n          alertId: image.image_id,\n          alertId2: alertId,\n          setAlertOpen: setAlertOpen,\n          setAlertId: setAlertId,\n          marginBottom: \"2rem\"\n        }), alertId !== image.image_id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          name: imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }) ? imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }).alttext_updated_user : \"\",\n          imageUrl: imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }) ? imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }).user_url : \"\",\n          onModalClick: modalHandler\n        }), openNewModal && /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Backdrop, null), document.getElementById('backdrop-root')), openNewModal && /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModalOverlay, {\n          name: imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }) ? imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }).alttext_updated_user : \"\",\n          imageUrl: imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }) ? imageUrlArray.find(function (obj) {\n            return obj.image_url === image.image_url;\n          }).user_url : \"\",\n          pageImageUrl: image.image_url\n        }), document.getElementById('overlay-root')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"container-fluid\",\n          style: {\n            \"marginBottom\": \"1rem\"\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_17__.Checkbox, {\n          id: \"isDecorative-checkbox-\" + image.image_id,\n          label: \"Mark Image as Decorative\",\n          variant: \"simple\",\n          inline: true,\n          checked: image.is_decorative,\n          onChange: function onChange() {\n            image.is_decorative = !image.is_decorative;\n            setChangeUI(!changeUI);\n          }\n          // disabled={inputDisabled}\n        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"container-fluid review-page-button\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n          type: \"button\",\n          \"class\": \"btn btn-outline-primary\",\n          onClick: function onClick() {\n            setImageId(image.image_id);\n            setViewContext(true);\n          }\n        }, \"View Context\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n          type: \"button\",\n          \"class\": \"btn btn-outline-primary\",\n          onClick: function onClick() {\n            markImageAsUnusable(image.image_id);\n          }\n        }, \"Needs Conversion\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_9__.Button, {\n          color: \"success\",\n          margin: \"xxx-small\",\n          onClick: function onClick(event) {\n            // if (image.alt_text.indexOf(\"'\") !== -1 || image.alt_text.indexOf(\"\\\"\") !== -1) {\n            //     setAlertId(image.image_id);\n            //     setAlertOpen(\"Alt text shouldn't contain quotes or apostrophes\");\n            // } else {\n            // getUserDetails(image.image_url);\n            setAlertId(image.image_id);\n            handleUpdateAltText(event, image.image_url, image.alt_text, image.is_decorative);\n            setAlertOpen(\"Successfully updated Alt text with \" + image.alt_text);\n            // }\n          }\n        }, \"Update Alt Text\"))))));\n      });\n      rows.push(rowElement);\n    }\n    return rows.map(function (row, index) {\n      if (rows != null) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_11__.Grid.Row, {\n          key: index\n        }, row);\n      }\n    });\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"container-fluid\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"container-fluid\"\n  }, !viewContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", {\n    style: {\n      marginBottom: '2rem',\n      marginTop: '1rem'\n    }\n  }, \"Reviewing: \", courseUnderReview.courseName, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      \"float\": 'right'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_9__.Button, {\n    color: \"success\",\n    onClick: function onClick() {\n      handleInternalPublish();\n    }\n  }, \"Publish All\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-outline-primary\",\n    style: {\n      marginLeft: '0.5rem'\n    },\n    onClick: onDismiss\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-xmark\",\n    style: {\n      padding: \"0rem\",\n      fontSize: '1.5rem'\n    }\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"container-fluid\"\n  }, !viewContext && (completedImages.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_11__.Grid, null, renderCompletedImages()) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_18__.Alert, {\n    variant: \"error\",\n    margin: \"small\"\n  }, \"No completed, unpublished images for this course.\")), viewContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"home-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"space-children\",\n    id: \"div1\"\n  }, renderCompletedImages(imageId)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    \"class\": \"fa-solid fa-circle-xmark fa-2x\",\n    style: {\n      padding: \"0rem\"\n    },\n    onClick: function onClick() {\n      setImageId(\"\");\n      setViewContext(false);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ContextPage__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    imageId: imageId,\n    modalOpen: viewContext,\n    onViewContextChange: viewContextChange,\n    basePath: basePath\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_19__.Overlay, {\n    id: \"loading-overlay\",\n    open: isLoadingReview,\n    label: \"Skipping Image\",\n    shouldContainFocus: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_20__.Mask, {\n    fullscreen: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_21__.Spinner, {\n    renderTitle: \"Skipping Image\",\n    size: \"large\",\n    margin: \"auto\"\n  }))));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/ReviewModal.js?");

/***/ }),

/***/ 94513:
/*!****************************************!*\
  !*** ./src/pages/ReviewPublishPage.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReviewPublishPage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CoursesTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoursesTable */ 91919);\n/* harmony import */ var _ReviewModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReviewModal */ 29078);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui */ 22434);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui */ 26993);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui */ 55260);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui */ 92439);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui */ 110);\n/* harmony import */ var _instructure_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui */ 12817);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ 5274);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\nfunction ReviewPublishPage(props) {\n  // if (!document.cookie.match(/^.*[;]?at_admin=true[;]?.*$/)) {\n  //   return (\n  //     <p>You are not authorized to access this page</p>\n  //   )\n  // }\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    courses = _useState2[0],\n    setCourses = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    reviewOpen = _useState4[0],\n    setReviewOpen = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    courseUnderReview = _useState6[0],\n    setCourseUnderReview = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    completedImages = _useState8[0],\n    setCompletedImages = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isLoading = _useState10[0],\n    setIsLoading = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    pushMessage = _useState12[0],\n    setPushMessage = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),\n    _useState14 = _slicedToArray(_useState13, 2),\n    courseFilter = _useState14[0],\n    setCourseFilter = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState16 = _slicedToArray(_useState15, 2),\n    pageNumber = _useState16[0],\n    setPageNumber = _useState16[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    loadTable();\n  }, [pageNumber]);\n  function handleFilterChange(e) {\n    setCourseFilter(e.target.value.trim());\n  }\n  function updateMondayBoard(courseId, pushed_images, needs_conversion) {\n    for (var idx = 0; idx < courses.length; idx++) {\n      console.log(courses[idx].id);\n      console.log(courseId);\n      console.log(courses[idx]);\n      console.log(courses[idx].total_images);\n      console.log((Number(courses[idx].published_images) + pushed_images).toString());\n      if (courses[idx].id === courseId) {\n        if (courses[idx].total_images === (Number(courses[idx].published_images) + pushed_images).toString()) {\n          console.log(\"innininininin\");\n          var data = {\n            \"course_id\": courseId,\n            \"action\": \"updateMondayBoard\",\n            \"needs_conversion\": needs_conversion === \"1\" ? true : false\n          };\n          (0,axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            method: 'post',\n            url: \"https://apswgda2p5.execute-api.us-east-1.amazonaws.com/default/getData\",\n            data: data\n          }).then(function (response) {\n            // handle success\n            if (needs_conversion === \"1\") {\n              (0,axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n                method: 'post',\n                url: \"\".concat(props.basePath, \"/release_needs_conversion\"),\n                data: {\n                  course_id: courseId\n                }\n              }).then(function (response) {\n                console.log(response);\n              })[\"catch\"](function (error) {});\n            }\n          })[\"catch\"](function (error) {\n            // handle error\n            console.log(error.message);\n          });\n        }\n      }\n    }\n  }\n  function loadTable() {\n    var courseId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var pushed_images = arguments.length > 1 ? arguments[1] : undefined;\n    var needs_conversion = arguments.length > 2 ? arguments[2] : undefined;\n    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(props.basePath, \"/get_courses_info?pageNumber=\").concat(pageNumber)).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /\\[.*\\]/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      console.log(loadJson);\n      console.log(\"pageNumber\");\n      console.log(pageNumber);\n      console.log(courses);\n      if (courses.length === 0) {\n        setCourses(loadJson);\n      } else if (pageNumber * 20 === courses.length) {\n        setCourses(function (prevValues) {\n          return [].concat(_toConsumableArray(prevValues), _toConsumableArray(loadJson));\n        });\n      }\n      console.log(\"courses\");\n      console.log(courses);\n      if (courseId) {\n        updateMondayBoard(courseId, pushed_images, needs_conversion);\n      }\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }\n  function handleReview(courseId, courseName) {\n    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(props.basePath, \"/get_completed_images?course_id=\").concat(courseId)).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /\\[.*\\]/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      if (!loadJson.message) {\n        setCompletedImages(loadJson);\n      } else {\n        setCompletedImages([]);\n      }\n      // open review modal\n      setReviewOpen(true);\n      // set current review course\n      setCourseUnderReview({\n        courseId: courseId,\n        courseName: courseName\n      });\n    });\n  }\n  function handlePublishAll() {\n    setIsLoading(true);\n    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(props.basePath, \"/push_images\")).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      if (\"failed_image_ids\" in loadJson) {\n        setPushMessage(\"The alt text for \".concat(loadJson.pushed_images, \" image\").concat(loadJson.pushed_images == 1 ? ' was' : 's were', \" successfully updated within Canvas. The alt text for the following image ids failed to push to canvas: \").concat(loadJson.failed_image_ids));\n      } else if (loadJson.pushed_images == 0) {\n        setPushMessage('Everything is already up to date.');\n      } else {\n        setPushMessage(\"Success! The alt text for \".concat(loadJson.pushed_images, \" image\").concat(loadJson.pushed_images == 1 ? ' was' : 's were', \" successfully updated within Canvas.\"));\n      }\n      loadTable();\n    })[\"catch\"](function (error) {\n      setPushMessage('An error occurred while pushing the alt text to canvas');\n    })[\"finally\"](function () {\n      return setIsLoading(false);\n    });\n  }\n  function handlePublish(courseId) {\n    setIsLoading(true);\n    (0,axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      method: 'post',\n      url: \"\".concat(props.basePath, \"/push_image\"),\n      data: {\n        course_id: courseId\n      }\n    }).then(function (response) {\n      var loadJson = {};\n      if (typeof response.data === \"string\") {\n        var jsonRegex = /{[^}]+}/;\n        var jsonMatch = response.data.match(jsonRegex);\n        if (jsonMatch) {\n          var jsonString = jsonMatch[0];\n          loadJson = JSON.parse(jsonString);\n        }\n      } else {\n        loadJson = response.data;\n      }\n      console.log(loadJson);\n      if (\"failed_image_ids\" in loadJson) {\n        setPushMessage(\"The alt text for \".concat(loadJson.pushed_images, \" image\").concat(loadJson.pushed_images == 1 ? ' was' : 's were', \" successfully updated within Canvas. The alt text for the following image ids failed to push to canvas: \").concat(loadJson.failed_image_ids));\n      } else if (loadJson.pushed_images == 0) {\n        setPushMessage('Everything is already up to date.');\n      } else {\n        setPushMessage(\"Success! The alt text for \".concat(loadJson.pushed_images, \" image\").concat(loadJson.pushed_images == 1 ? ' was' : 's were', \" successfully updated within Canvas.\"));\n      }\n      loadTable(courseId, loadJson.pushed_images, loadJson.needs_conversion);\n    })[\"catch\"](function (error) {\n      setPushMessage('An error occurred while pushing the alt text to canvas');\n    })[\"finally\"](function () {\n      setIsLoading(false);\n    });\n  }\n  console.log(!reviewOpen);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, !reviewOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"space-children\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"container-fluid\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"input-group mb-3\",\n    style: {\n      \"float\": \"left\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    \"class\": \"input-group-text\",\n    id: \"inputGroup-sizing-default\"\n  }, \"Filter\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    \"class\": \"form-control\",\n    \"aria-label\": \"Sizing example input\",\n    \"aria-describedby\": \"inputGroup-sizing-default\",\n    placeholder: \"Search for Course Name\",\n    onChange: handleFilterChange\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    \"class\": \"col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    \"class\": \"btn btn-success\",\n    style: {\n      \"float\": \"right\"\n    },\n    onClick: function onClick() {\n      return handlePublishAll();\n    }\n  }, \"Publish All Courses\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_CoursesTable__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    basePath: props.basePath,\n    courses: courses,\n    loadTable: loadTable,\n    handleReview: handleReview,\n    setCourses: setCourses,\n    setIsLoading: setIsLoading,\n    setPushMessage: setPushMessage,\n    handlePublish: handlePublish,\n    courseFilter: courseFilter,\n    setPageNumber: setPageNumber,\n    pageNumber: pageNumber\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), pushMessage != '' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_4__.Alert, {\n    onDismiss: function onDismiss() {\n      return setPushMessage('');\n    },\n    variant: \"info\",\n    renderCloseButtonLabel: \"Close\",\n    margin: \"small\"\n  }, pushMessage) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_5__.Overlay, {\n    open: isLoading,\n    label: \"Pushing Images\",\n    shouldContainFocus: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_6__.Mask, {\n    fullscreen: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_7__.Flex, {\n    direction: \"column\",\n    justifyItems: \"center\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_7__.Flex.Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_8__.Text, {\n    as: \"p\"\n  }, \"This may take some time depending on the size of the course\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_7__.Flex.Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_instructure_ui__WEBPACK_IMPORTED_MODULE_9__.Spinner, {\n    renderTitle: \"Loading\",\n    size: \"large\",\n    margin: \"auto\"\n  })))))), reviewOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ReviewModal__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    basePath: props.basePath,\n    open: reviewOpen,\n    onDismiss: function onDismiss() {\n      setReviewOpen(false);\n      setCourseFilter(\"\");\n    },\n    courseUnderReview: courseUnderReview,\n    completedImages: completedImages,\n    setCompletedImages: setCompletedImages,\n    handlePublish: handlePublish,\n    handleReview: handleReview\n  }));\n}\n\n//# sourceURL=webpack://alt_text_backend/./src/pages/ReviewPublishPage.js?");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors"], () => (__webpack_exec__(35666), __webpack_exec__(85880)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);